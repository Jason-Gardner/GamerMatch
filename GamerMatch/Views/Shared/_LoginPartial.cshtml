@using Microsoft.AspNetCore.Identity
@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager

@*<ul class="navbar-nav mr-auto">
    @if (SignInManager.IsSignedIn(User))
    {
        <li class="nav-item">
            <button type="button" class="mr-auto nav-link btn text-light badge-info">@User.Identity.Name</button>
        </li>
        <li class="nav-item">
            <a class="mr-auto nav-link btn text-light btn-hover-text-info" asp-area="Home" asp-action="Preferences" title="Manage">Manage Profile</a>
        </li>
        <li class="nav-item">
            <form class="form-inline" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Action("Index", "Home", new { area = "" })">
                <button type="submit" class="mr-auto nav-link btn text-light btn-hover-text-info">Logout</button>
            </form>
        </li>
    }
    else
    {
        <li class="nav-item">
            <a class="nav-link text-light btn-hover-text-info" asp-area="Identity" asp-page="/Account/Register">Register</a>
        </li>
        <li class="nav-item">
            <a class="nav-link text-light btn-hover-text-info" asp-area="Identity" asp-page="/Account/Login">Login</a>
        </li>
    }
</ul>*@

@if (SignInManager.IsSignedIn(User) && (string)ViewData["Title"] != "Home Page")
{
    <div class="sidenav">
        <div class="text-center">
            <fieldset>
                <form asp-controller="Home" asp-action="Profile">
                    <div class="form-group align-content-center">
                        <label for="friend">Friends List</label>
                        <select name="friend" style="max-width: 70%">
                            <option value=null></option>
                            @if (ViewData["Friends"] != null)
                            {
                                foreach (var item in ViewData["Friends"] as List<string>)
                                {
                                    <option value="@item">@item</option>
                                }
                            }
                        </select>
                        <input class="form-control btn btn-primary" type="submit" value="View Profile" />
                    </div>
                </form>
                <div class="form-group align-content-center">
                    <label for="ban">Ban List</label>
                    <select name="ban" style="min-width:70%; max-width: 70%">
                        <option value=null></option>
                        @foreach (var item in ViewData["Bans"] as List<string>)
                        {
                            <option value="@item">@item</option>
                        }
                    </select>
                    <button type="button" class="rounded badge-info" value="Clear Bans" onclick="location.href='@Url.Action("Clear", "Match")'">Clear Bans</button>
                </div>
                <button type="button" class="form-control btn btn-primary" value="Rate Player" onclick="location.href='@Url.Action("Ratings", "Home")'">Rate Players</button><br />
            </fieldset>
        </div>
        <form id="myformOne" style="padding-top: 10px;" asp-controller="Home" asp-action="Results" onsubmit="return ValidationEvent()">
            <div id="leftbox">
                <div class="text-center">
                    <fieldset>
                        <legend>Search Options</legend>
                            <div class="form-group align-content-center">
                                <label for="game">Steam Game Title</label>
                                <select name="steamTitle" style="max-width: 70%">
                                    <option value=null></option>
                                    @if (ViewData["MyGames"] != null)
                                    {
                                        foreach (var item in ViewData["MyGames"] as List<string>)
                                        {
                                            <option value="@item">@item</option>
                                        }
                                    }
                                </select>
                            </div>
                            <div class="form-group align-content-center">
                                <input class="form-control btn btn-primary" type="submit" value="Search" />
                            </div>
                        
                        <div class="form-group">
                            <label for="boardgame">Board Game Title</label>
                            <select name="boardTitle" style="width: 70%">
                                <option value=null></option>
                                @foreach (var item in ViewData["Games"] as List<BoardGames>)
                                {
                                    <option value="@item.Title">@item.Title</option>
                                }

                            </select>
                        </div>
                        <div class="form-group">
                            <input class="form-control btn btn-primary" type="submit" value="Search" />
                        </div>
                    </fieldset>
                </div>
            </div>
        </form>
    </div>
}
